<html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width" />
      <title>RPG Webgame Testing</title>
      <link href="l2Style.css" rel="stylesheet" type="text/css">
      <script id="ReadCookies">
        let xy = document.cookie;
        document.cookie = xy + "; expires=Wed, 23 Jun 2010 00:00:00 UTC;";
        function QuickMath(xOrY){
          if (xOrY === "x" || xOrY === "X") {
            const Xreturn = xy.split('-'); 
            return Xreturn[0];
          }
        }
        function setXbycookie() {
          document.getElementById("img").style.left = QuickMath("x");
        }
      </script>
    </head>
    <body class = "l2" onload="setXbycookie();">
        <div id="img"><img src="char (4) (2).png" id="imgEl"/></div>
        <div id = "nme1"><img src="3tv8fh-nme.png" id="nme"/></div>
        <script type="text/javascript">
            (function() {
              function DOMelementOverlapCheck(div1, div2) {
                const domRect1 = div1.getBoundingClientRect();
                const domRect2 = div2.getBoundingClientRect();
                return !(
                  domRect1.top > domRect2.bottom ||
                  domRect1.right < domRect2.left ||
                  domRect1.bottom < domRect2.top ||
                  domRect1.left > domRect2.right
                );
              }
              const nmeDiv = document.getElementById("nme1");
              var xAxis = parseFloat(QuickMath("x"));
              var yAxis = 350;
              const moveSpeed = 10;
              const div = document.getElementById('img');
              document.onkeydown = function(event) {
                switch (event.keyCode) {
                  case 37:
                    xAxis -= moveSpeed;
                    div.style.left = xAxis + 'px';
                    if(DOMelementOverlapCheck(nmeDiv, div) === true)
                    {
                      self.location="https://minikielbym.github.io/WebGame/Battle/";
                    }
                    break;
                  case 38:
                    yAxis -= moveSpeed;
                    div.style.top = yAxis + 'px';
                    if(DOMelementOverlapCheck(nmeDiv, div) === true)
                    {
                      self.location="https://minikielbym.github.io/WebGame/Battle/";
                    }
                    break;
                  case 39:
                    xAxis += moveSpeed;
                    div.style.left = xAxis + 'px';
                    if(DOMelementOverlapCheck(nmeDiv, div) === true)
                    {
                      self.location="https://minikielbym.github.io/WebGame/Battle/";
                    }
                    break;
                  case 40: 
                    yAxis += moveSpeed;
                    div.style.top = yAxis + 'px';
                    if(DOMelementOverlapCheck(nmeDiv, div) === true)
                    {
                      self.location="https://minikielbym.github.io/WebGame/Battle/";
                    }
                   break;
                }
              };
            })();
          </script>
    </body>
</html>
