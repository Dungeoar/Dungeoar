<!DOCTYPE html>
<html>

<head>
  <title>Dungeoar</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width" />
  <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body class="l1">
  <div id="img"><img src="char__3_-removebg-preview (1).png" id="imgEl" /></div>
  <div id="sword">
    <div id="hitbox_sword" style="position: relative;bottom: 63px;width:27.5px;height: 58.5px;"><img src="sword.png"
        id="swordImg" /></div>
  </div>
  <div id="invContainer"
    style="background-color: rgba(30, 30, 30, 0.5);width:365px;height:250px;border-radius:0.5em;position:relative;top:100px;right:350px;">
    <div class="invslot" id="slot1"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;top:25px;left:25px;">
    </div>
    <div id="slot2"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:25px;left:85px;">
    </div>
    <div id="slot3"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:75px;left:145px;">
    </div>
    <div id="slot4"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;left:205px;bottom:125px;">
    </div>
    <div id="slot5"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;left:265px;bottom:175px;">
    </div>
    <div id="slot6"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:165px;left:25px">
    </div>
    <div id="slot7"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:215px;left:85px;">
    </div>
    <div id="slot8"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:265px;left:145px;">
    </div>
    <div id="slot9"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:315px;left:205px;">
    </div>
    <div id="slot10"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:365px;left:265px;">
    </div>
    <div id="invBar"
      style="background-color: rgba(20, 20, 20, 0.75);width:290px;height:20px;border-radius:0.5em;position:relative;bottom:355px;left:25px;">
    </div>
    <div id="invWeapon"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:340px;left:25px;">
    </div>
    <div id="invArmor"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:390px;left:85px;">
    </div>
    <div id="invNoIdea"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:440px;left:145px;">
    </div>
    <div id="invNoIdea"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:490px;left:205px;">
    </div>
    <div id="invNoIdea"
      style="background-color: rgba(20, 20, 20, 0.75);width:50px;height:50px;border-radius:0.5em;position:relative;bottom:540px;left:265px;">
    </div>
  </div>
  <script type="text/javascript">
    (function () {
      sessionStorage.removeItem('3tv8fhwin');
      //assorted functions code begin
      function DOMelementOverlapCheck(div1, div2) {
        const domRect1 = div1.getBoundingClientRect();
        const domRect2 = div2.getBoundingClientRect();

        return !(
          domRect1.top > domRect2.bottom ||
          domRect1.right < domRect2.left ||
          domRect1.bottom < domRect2.top ||
          domRect1.left > domRect2.right
        );
      }

      //assorted functions

      //assorted variable defenitions code begin
      const SwordCollect = document.getElementById("hitbox_sword")
      const Portal = document.getElementById("LevelTransfer");
      var SwordCollectCollected = false
      var wait1 = false;
      var wait2 = false;
      var wait3 = false;
      const invContainer = document.getElementById('invContainer')
      var invOpen = false;
      var inventoryArray = new Array;
      localStorage.setItem("enabled", "true")
      //assorted variable defenitions code end

      //player movement code begin
      var xAxis = 50;
      var yAxis = 10;
      const moveSpeed = 10;
      const div = document.getElementById('img');
      document.onkeydown = function (event) {
        switch (event.key) {
          case 'Control':
            if (invOpen === true) {
              invContainer.animate([
                {
                  right: '10px'
                },

                {
                  right: '350px'
                }
              ], 2500)
              invContainer.style.right = '350px'
              invOpen = false;
            }
            else if (invOpen === false) {
              invContainer.animate([
                {
                  right: '350px'
                },

                {
                  right: '10px'
                }
              ], 2500)
              invContainer.style.right = '10px'
              invOpen = true;
            }
            break;
          case 'ArrowLeft':
            if (!SwordCollectCollected) {
              xAxis -= moveSpeed;
              div.style.left = xAxis + 'px';
            }
            if (DOMelementOverlapCheck(SwordCollect, div) === true) {
              SwordCollectCollected = true;
              inventoryArray[11] = "sword.png";
              document.getElementById("invWeapon").style.backgroundImage = "url(" + inventoryArray[11] + ")";
              document.getElementById("sword").style.display = 'none';
              document.getElementById("sword").style.display = 'none';
              document.getElementById("imgEl").src = "char (4) (2).png";
              console.log("DOM overlap detected");
              function AnimPart1() {
                document.body.style.backgroundImage = "url('blank.png')";
                div.style.visibility = 'hidden';
                function LoadLv2() {
                  sessionStorage.setItem("inventoryArray", JSON.stringify(inventoryArray))
                  self.location = "/L2/";
                  sessionStorage.setItem("xpos", xAxis);
                  sessionStorage.setItem("ypos", "350");
                }
                setTimeout(LoadLv2, 1500);
              }
              setTimeout(AnimPart1, 2000);
            }
            break;
          case 'ArrowUp':
            if (!SwordCollectCollected) {
              yAxis -= moveSpeed;
              div.style.top = yAxis + 'px';
            }
            if (DOMelementOverlapCheck(SwordCollect, div) === true) {
              SwordCollectCollected = true;
              inventoryArray[11] = "sword.png";
              document.getElementById("invWeapon").style.backgroundImage = "url(" + inventoryArray[11] + ")";
              document.getElementById("sword").style.display = 'none';
              document.getElementById("imgEl").src = "char (4) (2).png";
              console.log("DOM overlap detected");
              function AnimPart1() {
                document.body.style.backgroundImage = "url('blank.png')";
                div.style.visibility = 'hidden';
                function LoadLv2() {
                  sessionStorage.setItem("inventoryArray", JSON.stringify(inventoryArray))
                  self.location = "/L2/";
                  sessionStorage.setItem("xpos", xAxis);
                  sessionStorage.setItem("ypos", "350");
                }
                setTimeout(LoadLv2, 1500);
              }
              setTimeout(AnimPart1, 2000);
            }
            break;
          case 'ArrowRight':
            if (!SwordCollectCollected) {
              xAxis += moveSpeed;
              div.style.left = xAxis + 'px';
            }
            if (DOMelementOverlapCheck(SwordCollect, div) === true) {
              SwordCollectCollected = true;
              inventoryArray[11] = "sword.png";
              document.getElementById("invWeapon").style.backgroundImage = "url(" + inventoryArray[11] + ")";
              document.getElementById("sword").style.display = 'none';
              document.getElementById("sword").style.display = 'none';
              document.getElementById("imgEl").src = "char (4) (2).png";
              console.log("DOM overlap detected");
              function AnimPart1() {
                document.body.style.backgroundImage = "url('blank.png')";
                div.style.visibility = 'hidden';
                function LoadLv2() {
                  sessionStorage.setItem("inventoryArray", JSON.stringify(inventoryArray))
                  self.location = "/L2/";
                  sessionStorage.setItem("xpos", xAxis);
                  sessionStorage.setItem("ypos", "350");
                }
                setTimeout(LoadLv2, 1500);
              }
              setTimeout(AnimPart1, 2000);
            }
            break;
          case 'ArrowDown':
            if (!SwordCollectCollected) {
              yAxis += moveSpeed;
              div.style.top = yAxis + 'px';
            }
            if (DOMelementOverlapCheck(SwordCollect, div) === true) {
              SwordCollectCollected = true;
              inventoryArray[11] = "sword.png";
              document.getElementById("invWeapon").style.backgroundImage = "url(" + inventoryArray[11] + ")";
              document.getElementById("sword").style.display = 'none';
              document.getElementById("sword").style.display = 'none';
              document.getElementById("imgEl").src = "char (4) (2).png";
              console.log("DOM overlap detected");
              function AnimPart1() {
                document.body.style.backgroundImage = "url('blank.png')";
                div.style.visibility = 'hidden';
                function LoadLv2() {
                  sessionStorage.setItem("inventoryArray", JSON.stringify(inventoryArray))
                  self.location = "/L2/";
                  sessionStorage.setItem("xpos", xAxis);
                  sessionStorage.setItem("ypos", "350");
                }
                setTimeout(LoadLv2, 1500);
              }
              setTimeout(AnimPart1, 2000);
            }
            break;
        }

      };
      //player movement code end
    })();
  </script>
</body>

</html>